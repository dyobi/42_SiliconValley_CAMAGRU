{"ast":null,"code":"var _jsxFileName = \"/Users/dyobi/Desktop/camagru/src/components/header/index.jsx\";\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ui_nav, album_arr, cam_arr, cam_curr, cam_filter, cam_sticker } from '../../actions';\nimport axios from 'axios';\nimport './index.css';\n\nfunction Header() {\n  const dispatch = useDispatch();\n  let acc = useSelector(state => state.acc);\n\n  function _handleAlbum() {\n    axios.post('/picture', {\n      user: acc.user\n    }).then(res => {\n      let temp = res.data;\n      const promises = temp.map((each, index) => {\n        return axios.post('/display_comment', {\n          pic: each.pic\n        }).then(res2 => {\n          const tmp = {\n            comments: res2.data\n          };\n          temp[index] = Object.assign(each, tmp);\n        });\n      });\n      Promise.all(promises).then(() => {\n        dispatch(album_arr(temp));\n        dispatch(ui_nav(2));\n      });\n    });\n  }\n\n  function _handle_cam() {\n    axios.post('/get_sticker', {}).then(res => {\n      dispatch(cam_sticker(res));\n      dispatch(cam_arr([]));\n      dispatch(ui_nav(1));\n      dispatch(cam_curr(-1));\n      dispatch(cam_filter(-1));\n    });\n  }\n\n  function _albumSet() {\n    axios.post('/albumSet', {}).then(res => {\n      _handleAlbum();\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"header-top\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"header-home menu\",\n    onClick: () => dispatch(ui_nav(0)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"HOME\"), React.createElement(\"div\", {\n    className: \"header-camera menu\",\n    onClick: () => _handle_cam(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"CAMERA\"), React.createElement(\"div\", {\n    className: \"header-album menu\",\n    onClick: () => _albumSet(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"ALBUM\"), acc.signin === 0 ? React.createElement(\"div\", {\n    className: \"header-account menu\",\n    onClick: () => dispatch(ui_nav(3)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"ACCOUNT\") : React.createElement(\"div\", {\n    className: \"header-account menu\",\n    onClick: () => dispatch(ui_nav(3)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"USER_INFO\")), React.createElement(\"div\", {\n    className: \"header-bottom\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }));\n}\n\nexport default Header;","map":{"version":3,"sources":["/Users/dyobi/Desktop/camagru/src/components/header/index.jsx"],"names":["React","useSelector","useDispatch","ui_nav","album_arr","cam_arr","cam_curr","cam_filter","cam_sticker","axios","Header","dispatch","acc","state","_handleAlbum","post","user","then","res","temp","data","promises","map","each","index","pic","res2","tmp","comments","Object","assign","Promise","all","_handle_cam","_albumSet","signin"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ui_nav, album_arr, cam_arr, cam_curr, cam_filter, cam_sticker } from '../../actions';\n\nimport axios from 'axios';\n\nimport './index.css';\n\nfunction Header() {\n    const dispatch = useDispatch();\n    let acc = useSelector(state => state.acc);\n\n    function _handleAlbum() {\n        axios.post('/picture', {\n            user: acc.user\n        })\n        .then(res => {\n            let temp = res.data;\n            const promises = temp.map((each, index) => {\n                return axios.post('/display_comment', {\n                        pic: each.pic\n                    })\n                    .then(res2 => {\n                        const tmp = {\n                            comments: res2.data\n                        }\n                        temp[index] = Object.assign(each, tmp);\n                    });\n            });\n            Promise.all(promises).then(() => {\n                dispatch(album_arr(temp));\n                dispatch(ui_nav(2));\n            });\n        });\n    }\n\n    function _handle_cam() {\n        axios.post('/get_sticker', {})\n        .then(res => {\n            dispatch(cam_sticker(res));\n            dispatch(cam_arr([]));\n            dispatch(ui_nav(1));\n            dispatch(cam_curr(-1));\n            dispatch(cam_filter(-1));\n        })\n    }\n\n    function _albumSet() {\n        axios.post('/albumSet', {})\n        .then(res => {\n            _handleAlbum();\n        })\n    }\n\n\treturn (\n\t\t<div className=\"header\">\n            <div className=\"header-top\">\n                <div className=\"header-home menu\" onClick={() => dispatch(ui_nav(0))}>HOME</div>\n                <div className=\"header-camera menu\" onClick={() => _handle_cam()}>CAMERA</div>\n                <div className=\"header-album menu\" onClick={() => _albumSet()}>ALBUM</div>\n                {acc.signin === 0 ? <div className=\"header-account menu\" onClick={() => dispatch(ui_nav(3))}>ACCOUNT</div> :\n            <div className=\"header-account menu\" onClick={() => dispatch(ui_nav(3))}>USER_INFO</div>}\n            </div>\n            <div className=\"header-bottom\" />\n        </div>\n\t);\n}\n\nexport default Header;"]},"metadata":{},"sourceType":"module"}