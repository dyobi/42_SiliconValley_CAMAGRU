{"ast":null,"code":"var _jsxFileName = \"/Users/dyobi/Desktop/camagru/src/components/header/index.jsx\";\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ui_nav, album_arr, cam_arr, cam_curr } from '../../actions';\nimport axios from 'axios';\nimport { URL } from '../../const';\nimport './index.css';\n\nfunction Header() {\n  const dispatch = useDispatch();\n  let acc = useSelector(state => state.acc);\n\n  function _test(e) {\n    for (var i = 0; i < e.length; i++) {\n      axios.post(URL + 'display_comment', {\n        pic: e[i].pic\n      }).then(res => {\n        console.log(res); // let tmp = [];\n        // let rr = [];\n        // for (let i = 0; i < res.data.length; i++) {\n        //     tmp[i] = res.data[i].name + ' : ' + res.data[i].text;\n        // }\n        // console.log(tmp);\n        // rr = e;\n        // rr[index] = (Object.assign({tmp}, e[index]))\n        // console.log(rr)\n        // dispatch(album_arr(rr));\n      });\n    }\n  }\n\n  function _handleAlbum() {\n    axios.post(URL + 'picture', {\n      user: acc.user\n    }).then(res => {\n      let temp = res.data;\n      const promises = temp.map((each, index) => {\n        return axios.post(URL + 'display_comment', {\n          pic: each.pic\n        }).then(res2 => {\n          temp[index] = Object.assign({\n            each\n          }, res2.data); // console.log(temp);\n        });\n      });\n      Promise.all(promises).then(data => {// console.log(temp);\n      });\n    }); // var arr = res.data;\n    // async function test(arr) {\n    //     for(const item in arr) {\n    //         await axios.post(URL + 'display_comment', {\n    //             pic: item.pic\n    //         })\n    //         .then(res2 => {\n    //             console.log(res2);\n    //         });\n    //     }\n    //     }    \n    //     console.log('done');\n    // }\n    // let hhh = _test(res.data);\n    // console.log(hhh)\n    // dispatch(album_arr(res.data));\n    // dispatch(ui_nav(2));\n    // });\n  }\n\n  function _handle_cam() {\n    dispatch(cam_arr([]));\n    dispatch(ui_nav(1));\n    dispatch(cam_curr(-1));\n  }\n\n  function _albumSet() {\n    axios.post(URL + 'albumSet', {}).then(res => {\n      _handleAlbum();\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"header-top\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"header-home menu\",\n    onClick: () => dispatch(ui_nav(0)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"HOME\"), React.createElement(\"div\", {\n    className: \"header-camera menu\",\n    onClick: () => _handle_cam(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"CAMERA\"), React.createElement(\"div\", {\n    className: \"header-album menu\",\n    onClick: () => _albumSet(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"ALBUM\"), acc.signin === 0 ? React.createElement(\"div\", {\n    className: \"header-account menu\",\n    onClick: () => dispatch(ui_nav(3)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"ACCOUNT\") : React.createElement(\"div\", {\n    className: \"header-account menu\",\n    onClick: () => dispatch(ui_nav(3)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"USER_INFO\")), React.createElement(\"div\", {\n    className: \"header-bottom\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }));\n}\n\nexport default Header;","map":{"version":3,"sources":["/Users/dyobi/Desktop/camagru/src/components/header/index.jsx"],"names":["React","useSelector","useDispatch","ui_nav","album_arr","cam_arr","cam_curr","axios","URL","Header","dispatch","acc","state","_test","e","i","length","post","pic","then","res","console","log","_handleAlbum","user","temp","data","promises","map","each","index","res2","Object","assign","Promise","all","_handle_cam","_albumSet","signin"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,MAAT,EAAiBC,SAAjB,EAA4BC,OAA5B,EAAqCC,QAArC,QAAqD,eAArD;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,aAApB;AAEA,OAAO,aAAP;;AAEA,SAASC,MAAT,GAAkB;AACd,QAAMC,QAAQ,GAAGR,WAAW,EAA5B;AACA,MAAIS,GAAG,GAAGV,WAAW,CAACW,KAAK,IAAIA,KAAK,CAACD,GAAhB,CAArB;;AAEA,WAASE,KAAT,CAAeC,CAAf,EAAkB;AACd,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGD,CAAC,CAACE,MAArB,EAA6BD,CAAC,EAA9B,EAAkC;AAC9BR,MAAAA,KAAK,CAACU,IAAN,CAAWT,GAAG,GAAG,iBAAjB,EAAoC;AAChCU,QAAAA,GAAG,EAAEJ,CAAC,CAACC,CAAD,CAAD,CAAKG;AADsB,OAApC,EAGCC,IAHD,CAGMC,GAAG,IAAI;AACTC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,EADS,CAET;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,OAhBD;AAiBH;AACJ;;AAED,WAASG,YAAT,GAAwB;AACpBhB,IAAAA,KAAK,CAACU,IAAN,CAAWT,GAAG,GAAG,SAAjB,EAA4B;AACxBgB,MAAAA,IAAI,EAAEb,GAAG,CAACa;AADc,KAA5B,EAGCL,IAHD,CAGMC,GAAG,IAAI;AACT,UAAIK,IAAI,GAAGL,GAAG,CAACM,IAAf;AACA,YAAMC,QAAQ,GAAGF,IAAI,CAACG,GAAL,CAAS,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACvC,eAAOvB,KAAK,CAACU,IAAN,CAAWT,GAAG,GAAG,iBAAjB,EAAoC;AACnCU,UAAAA,GAAG,EAAEW,IAAI,CAACX;AADyB,SAApC,EAGFC,IAHE,CAGGY,IAAI,IAAI;AACVN,UAAAA,IAAI,CAACK,KAAD,CAAJ,GAAcE,MAAM,CAACC,MAAP,CAAc;AAACJ,YAAAA;AAAD,WAAd,EAAsBE,IAAI,CAACL,IAA3B,CAAd,CADU,CAEV;AACH,SANE,CAAP;AAOH,OARgB,CAAjB;AASAQ,MAAAA,OAAO,CAACC,GAAR,CAAYR,QAAZ,EAAsBR,IAAtB,CAA2BO,IAAI,IAAI,CAC/B;AACH,OAFD;AAGH,KAjBD,EADoB,CAmBhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAGA;AACA;AACJ;AACH;;AAED,WAASU,WAAT,GAAuB;AACnB1B,IAAAA,QAAQ,CAACL,OAAO,CAAC,EAAD,CAAR,CAAR;AACAK,IAAAA,QAAQ,CAACP,MAAM,CAAC,CAAD,CAAP,CAAR;AACAO,IAAAA,QAAQ,CAACJ,QAAQ,CAAC,CAAC,CAAF,CAAT,CAAR;AACH;;AAED,WAAS+B,SAAT,GAAqB;AACjB9B,IAAAA,KAAK,CAACU,IAAN,CAAWT,GAAG,GAAG,UAAjB,EAA6B,EAA7B,EACCW,IADD,CACMC,GAAG,IAAI;AACTG,MAAAA,YAAY;AACf,KAHD;AAIH;;AAEJ,SACC;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACU;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAkC,IAAA,OAAO,EAAE,MAAMb,QAAQ,CAACP,MAAM,CAAC,CAAD,CAAP,CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAEI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAoC,IAAA,OAAO,EAAE,MAAMiC,WAAW,EAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,EAGI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAmC,IAAA,OAAO,EAAE,MAAMC,SAAS,EAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHJ,EAIK1B,GAAG,CAAC2B,MAAJ,KAAe,CAAf,GAAmB;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAqC,IAAA,OAAO,EAAE,MAAM5B,QAAQ,CAACP,MAAM,CAAC,CAAD,CAAP,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAnB,GACL;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAqC,IAAA,OAAO,EAAE,MAAMO,QAAQ,CAACP,MAAM,CAAC,CAAD,CAAP,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALA,CADV,EAQU;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARV,CADD;AAYA;;AAED,eAAeM,MAAf","sourcesContent":["import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ui_nav, album_arr, cam_arr, cam_curr } from '../../actions';\n\nimport axios from 'axios';\nimport { URL } from '../../const';\n\nimport './index.css';\n\nfunction Header() {\n    const dispatch = useDispatch();\n    let acc = useSelector(state => state.acc);\n\n    function _test(e) {\n        for(var i = 0; i < e.length; i++) {\n            axios.post(URL + 'display_comment', {\n                pic: e[i].pic\n            })\n            .then(res => {\n                console.log(res)\n                // let tmp = [];\n                // let rr = [];\n\n                // for (let i = 0; i < res.data.length; i++) {\n                //     tmp[i] = res.data[i].name + ' : ' + res.data[i].text;\n                // }\n                // console.log(tmp);\n                // rr = e;\n                // rr[index] = (Object.assign({tmp}, e[index]))\n                // console.log(rr)\n                // dispatch(album_arr(rr));\n            })\n        }\n    }\n\n    function _handleAlbum() {\n        axios.post(URL + 'picture', {\n            user: acc.user\n        })\n        .then(res => {\n            let temp = res.data;\n            const promises = temp.map((each, index) => {\n                return axios.post(URL + 'display_comment', {\n                        pic: each.pic\n                    })\n                    .then(res2 => {\n                        temp[index] = Object.assign({each}, res2.data);\n                        // console.log(temp);\n                    });\n            });\n            Promise.all(promises).then(data => {\n                // console.log(temp);\n            });\n        });\n            // var arr = res.data;\n            // async function test(arr) {\n            //     for(const item in arr) {\n            //         await axios.post(URL + 'display_comment', {\n            //             pic: item.pic\n            //         })\n            //         .then(res2 => {\n            //             console.log(res2);\n            //         });\n            //     }\n            //     }    \n            //     console.log('done');\n            // }\n            \n            \n            // let hhh = _test(res.data);\n            // console.log(hhh)\n\n\n            // dispatch(album_arr(res.data));\n            // dispatch(ui_nav(2));\n        // });\n    }\n\n    function _handle_cam() {\n        dispatch(cam_arr([]));\n        dispatch(ui_nav(1));\n        dispatch(cam_curr(-1));\n    }\n\n    function _albumSet() {\n        axios.post(URL + 'albumSet', {})\n        .then(res => {\n            _handleAlbum();\n        })\n    }\n\n\treturn (\n\t\t<div className=\"header\">\n            <div className=\"header-top\">\n                <div className=\"header-home menu\" onClick={() => dispatch(ui_nav(0))}>HOME</div>\n                <div className=\"header-camera menu\" onClick={() => _handle_cam()}>CAMERA</div>\n                <div className=\"header-album menu\" onClick={() => _albumSet()}>ALBUM</div>\n                {acc.signin === 0 ? <div className=\"header-account menu\" onClick={() => dispatch(ui_nav(3))}>ACCOUNT</div> :\n            <div className=\"header-account menu\" onClick={() => dispatch(ui_nav(3))}>USER_INFO</div>}\n            </div>\n            <div className=\"header-bottom\" />\n        </div>\n\t);\n}\n\nexport default Header;"]},"metadata":{},"sourceType":"module"}