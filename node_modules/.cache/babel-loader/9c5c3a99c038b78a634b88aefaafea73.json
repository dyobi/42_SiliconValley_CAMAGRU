{"ast":null,"code":"var _jsxFileName = \"/Users/dyobi/Desktop/camagru/src/components/body/album/index.jsx\";\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { GoComment, GoHeart } from \"react-icons/go\";\nimport { IoIosCloseCircleOutline } from \"react-icons/io\";\nimport { album_arr, ui_nav } from '../../../actions';\nimport './index.css';\nimport axios from 'axios';\nimport { URL } from '../../../const';\n\nfunction BodyAlbum() {\n  const dispatch = useDispatch();\n  let album = useSelector(state => state.album);\n  let acc = useSelector(state => state.acc);\n\n  function One_del(e) {\n    axios.post(URL + 'pic_del', {\n      pic: e,\n      user: acc.user\n    }).then(res => {\n      if (res.data) {\n        alert('Successfully Deleted !');\n\n        _handleAlbum();\n      } else {\n        alert('You are not allowed to delete this pic !');\n      }\n    });\n  }\n\n  function _handleAlbum() {\n    axios.post(URL + 'picture', {}).then(res => {\n      dispatch(album_arr(res.data));\n      dispatch(ui_nav(2));\n    });\n  }\n\n  function _like(e) {\n    if (acc.user !== '') {\n      axios.post(URL + 'like', {\n        id: acc.user,\n        pic: e\n      });\n\n      _handleAlbum();\n    } else {\n      alert('Log in first !');\n      dispatch(ui_nav(3));\n    }\n  }\n\n  function Count_like(e) {\n    axios.post(URL + 'count_like', {\n      pic: e\n    }).then(res => {\n      return res.data[0].count;\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"body-album\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"body-album-part\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, album.arr.map((each, index) => React.createElement(\"div\", {\n    className: \"body-album-each\",\n    key: index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"body-album-pic\",\n    style: {\n      backgroundImage: 'url(\\'data:image/jpeg;base64,' + each.temp + '\\')'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"count_like\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, Count_like(each.pic)), React.createElement(GoHeart, {\n    className: \"body-album-ft\",\n    onClick: () => _like(each.pic),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), React.createElement(GoComment, {\n    className: \"body-album-ft\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"body-album-postid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, each.name), React.createElement(IoIosCloseCircleOutline, {\n    className: \"body-album-ft2\",\n    onClick: () => One_del(each.pic),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"body-album-comment\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, each.explain)))));\n}\n\nexport default BodyAlbum;","map":{"version":3,"sources":["/Users/dyobi/Desktop/camagru/src/components/body/album/index.jsx"],"names":["React","useSelector","useDispatch","GoComment","GoHeart","IoIosCloseCircleOutline","album_arr","ui_nav","axios","URL","BodyAlbum","dispatch","album","state","acc","One_del","e","post","pic","user","then","res","data","alert","_handleAlbum","_like","id","Count_like","count","arr","map","each","index","backgroundImage","temp","name","explain"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { GoComment, GoHeart } from \"react-icons/go\";\nimport { IoIosCloseCircleOutline } from \"react-icons/io\";\nimport { album_arr, ui_nav } from '../../../actions';\n\nimport './index.css';\n\nimport axios from 'axios';\nimport { URL } from '../../../const';\n\nfunction BodyAlbum () {\n    const dispatch = useDispatch();\n    let album = useSelector(state => state.album);\n    let acc = useSelector(state => state.acc);\n\n    function One_del (e) {\n        axios.post(URL + 'pic_del', {\n            pic: e,\n            user: acc.user\n        })\n        .then(res => {\n            if (res.data) {\n                alert('Successfully Deleted !');\n                _handleAlbum();\n            }\n            else {\n                alert('You are not allowed to delete this pic !');\n            }\n        })\n    }\n\n    function _handleAlbum() {\n        axios.post(URL + 'picture', {})\n        .then(res => {\n            dispatch(album_arr(res.data));\n            dispatch(ui_nav(2));\n        });\n    }\n\n    function _like(e) {\n        if (acc.user !== '') {\n            axios.post(URL + 'like', {\n                id: acc.user,\n                pic: e\n            })\n            _handleAlbum();\n        }\n        else {\n            alert('Log in first !');\n            dispatch(ui_nav(3));\n        }\n    }\n\n    function Count_like(e) {\n        axios.post(URL + 'count_like', {\n            pic: e\n        }).then(res => {\n            return (res.data[0].count);\n        })\n    }\n\n    return (\n        <div className=\"body-album\">\n            <div className=\"body-album-part\">\n                { album.arr.map((each, index) => \n                    <div className=\"body-album-each\" key={index} >\n                        <div className=\"body-album-pic\" style={{ backgroundImage: 'url(\\'data:image/jpeg;base64,' + each.temp + '\\')' }} />\n                        <div className=\"count_like\">{Count_like(each.pic)}</div>\n                        <GoHeart className=\"body-album-ft\" onClick={() => _like(each.pic)}/>\n                        <GoComment className=\"body-album-ft\" />\n                        <div className=\"body-album-postid\">{each.name}</div>\n                        <IoIosCloseCircleOutline className=\"body-album-ft2\" onClick={() => One_del(each.pic)} />\n                        <div className=\"body-album-comment\">{each.explain}</div>\n                    </div>\n                )} \n            </div>\n        </div>\n    );\n}\n\nexport default BodyAlbum;"]},"metadata":{},"sourceType":"module"}