{"ast":null,"code":"var _jsxFileName = \"/Users/dyobi/Desktop/camagru/src/components/body/camera/index.jsx\";\nimport React from 'react';\nimport Webcam from 'react-webcam';\nimport { IoIosRadioButtonOn, IoMdSend } from \"react-icons/io\";\nimport { FiFilm } from \"react-icons/fi\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { cam_arr, cam_curr, cam_filter, ui_nav } from '../../../actions';\nimport './index.css';\nimport axios from 'axios';\nimport { URL } from '../../../const';\n\nfunction BodyCam() {\n  const webcamRef = React.useRef(null);\n  const dispatch = useDispatch();\n  let cam = useSelector(state => state.cam);\n  let acc = useSelector(state => state.acc);\n\n  function Capture() {\n    if (cam.arr === undefined) {\n      dispatch(cam_arr(webcamRef.current.getScreenshot()));\n    } else {\n      dispatch(cam_arr(cam.arr.concat(webcamRef.current.getScreenshot())));\n    }\n  }\n\n  ;\n\n  function Temporary(cam, i) {\n    let status = cam.curr;\n\n    if (status === -1) {\n      dispatch(cam_curr(i));\n    } else if (status === i) {\n      dispatch(cam_curr(-1));\n    } else {\n      dispatch(cam_curr(i));\n    }\n  }\n\n  function Filter() {\n    dispatch(cam_filter(cam.filter + 1));\n\n    if (cam.filter === 2) {\n      dispatch(cam_filter(-1));\n    }\n  }\n\n  function SetFil() {\n    if (cam.filter === 0) {\n      return \"body-cam-fil1\";\n    } else if (cam.filter === 1) {\n      return \"body-cam-fil2\";\n    } else if (cam.filter === 2) {\n      return \"body-cam-fil3\";\n    }\n  }\n\n  function Submit() {\n    if (acc.user === '') {\n      alert('Log in first !');\n      dispatch(ui_nav(3));\n    } else if (cam.arr.length === 0) {\n      alert('Take pictures first !');\n    } else if (cam.curr === -1) {\n      alert('Choose one picture !');\n    } else {\n      alert('Successfully posted !');\n      axios.post(URL + 'submit', {\n        explain: document.getElementById('comment').textContent,\n        user: acc.user,\n        pic: cam.arr[cam.curr]\n      }).then(() => {\n        dispatch(cam_arr([]));\n      });\n    }\n  }\n\n  return React.createElement(\"div\", {\n    className: \"body-cam\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"body-cam-part\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"body-cam-contain\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, cam.curr === -1 ? React.createElement(Webcam, {\n    className: \"body-cam-camera\",\n    ref: webcamRef,\n    screenshotFormat: \"image/jpeg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }) : '', cam.curr !== -1 && cam.filter === -1 ? React.createElement(\"img\", {\n    className: \"body-cam-camera\",\n    src: cam.arr[cam.curr],\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }) : '', cam.curr !== -1 && cam.filter !== -1 ? React.createElement(\"img\", {\n    className: \"\".concat(SetFil(), \" body-cam-camera\"),\n    src: cam.arr[cam.curr],\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }) : '', cam.curr !== -1 ? React.createElement(FiFilm, {\n    className: \"body-cam-filter\",\n    onClick: () => Filter(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }) : '', React.createElement(IoIosRadioButtonOn, {\n    className: \"body-cam-shot\",\n    onClick: () => {\n      cam.curr === -1 ? Capture() : dispatch(cam_curr(-1));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"body-cam-preview\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, cam.arr.map((pic, i) => React.createElement(\"img\", {\n    className: i === cam.curr ? \"\".concat(SetFil(), \" body-cam-pre-one-action\") : \"body-cam-pre-one\",\n    key: i,\n    src: pic,\n    alt: \"\",\n    onClick: () => Temporary(cam, i),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    type: \"text\",\n    className: \"body-cam-comment\",\n    contentEditable: \"true\",\n    id: \"comment\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), React.createElement(IoMdSend, {\n    className: \"body-cam-choose\",\n    onClick: () => Submit(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })));\n}\n\nexport default BodyCam;","map":{"version":3,"sources":["/Users/dyobi/Desktop/camagru/src/components/body/camera/index.jsx"],"names":["React","Webcam","IoIosRadioButtonOn","IoMdSend","FiFilm","useDispatch","useSelector","cam_arr","cam_curr","cam_filter","ui_nav","axios","URL","BodyCam","webcamRef","useRef","dispatch","cam","state","acc","Capture","arr","undefined","current","getScreenshot","concat","Temporary","i","status","curr","Filter","filter","SetFil","Submit","user","alert","length","post","explain","document","getElementById","textContent","pic","then","map"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Webcam from 'react-webcam';\nimport { IoIosRadioButtonOn, IoMdSend } from \"react-icons/io\";\nimport { FiFilm } from \"react-icons/fi\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { cam_arr, cam_curr, cam_filter, ui_nav } from '../../../actions';\nimport './index.css';\n\nimport axios from 'axios';\nimport { URL } from '../../../const';\n\nfunction BodyCam () {\n    const webcamRef = React.useRef(null);\n    const dispatch = useDispatch();\n    let cam = useSelector(state => state.cam);\n    let acc = useSelector(state => state.acc);\n\n    function Capture() {\n        if (cam.arr === undefined) {\n            dispatch(cam_arr(webcamRef.current.getScreenshot()));\n        } else {\n            dispatch(cam_arr(cam.arr.concat(webcamRef.current.getScreenshot())));\n        }\n    };\n\n    function Temporary(cam, i) {\n        let status = cam.curr;\n\n        if (status === -1) {\n            dispatch(cam_curr(i));\n        } else if (status === i) {\n            dispatch(cam_curr(-1));\n        } else {\n            dispatch(cam_curr(i));\n        }\n    }\n\n    function Filter() {\n        dispatch(cam_filter(cam.filter + 1))\n        if (cam.filter === 2) {\n            dispatch(cam_filter(-1));\n        }\n    }\n\n    function SetFil() {\n        if (cam.filter === 0) {\n            return (\"body-cam-fil1\");\n        } else if (cam.filter === 1) {\n            return (\"body-cam-fil2\");\n        } else if (cam.filter === 2) {\n            return (\"body-cam-fil3\");\n        }\n    }\n\n    function Submit() {\n        if (acc.user === '') {\n            alert('Log in first !');\n            dispatch(ui_nav(3));\n        }\n        else if (cam.arr.length === 0) {\n            alert('Take pictures first !');\n        }\n        else if (cam.curr === -1) {\n            alert('Choose one picture !');\n        }\n        else {\n            alert('Successfully posted !');\n            \n            axios.post(URL + 'submit', {\n                explain: document.getElementById('comment').textContent,\n                user: acc.user,\n                pic: cam.arr[cam.curr]\n            })\n            .then(() => {\n                dispatch(cam_arr([]));\n            });\n        }\n    }\n\n    return (\n        <div className=\"body-cam\">\n            <div className=\"body-cam-part\">\n                <div className=\"body-cam-contain\">\n                    {cam.curr === -1 ? <Webcam className=\"body-cam-camera\" ref={webcamRef} screenshotFormat='image/jpeg' /> : ''}\n                    {cam.curr !== -1 && cam.filter === -1 ? <img className=\"body-cam-camera\" src={cam.arr[cam.curr]} alt=\"\" /> : ''}\n                    {cam.curr !== -1 && cam.filter !== -1 ? <img className={`${SetFil()} body-cam-camera`} src={cam.arr[cam.curr]} alt=\"\" /> : ''}\n                    {cam.curr !== -1 ? <FiFilm className=\"body-cam-filter\" onClick={() => Filter()}/> : '' }\n                    <IoIosRadioButtonOn className=\"body-cam-shot\" onClick={() => {cam.curr === -1 ? Capture() : dispatch(cam_curr(-1))}} />\n                </div>\n                <div className=\"body-cam-preview\">\n                {cam.arr.map((pic, i) => <img className={i === cam.curr ? `${SetFil()} body-cam-pre-one-action` : \"body-cam-pre-one\"} \n                key={i} src={pic} alt=\"\" onClick={() => Temporary(cam, i)} />)}\n                </div>\n                <div type=\"text\" className=\"body-cam-comment\" contentEditable=\"true\" id=\"comment\" />\n                <IoMdSend className=\"body-cam-choose\" onClick={() => Submit()}/>\n            </div>\n        </div>\n    );\n}\n\nexport default BodyCam;"]},"metadata":{},"sourceType":"module"}